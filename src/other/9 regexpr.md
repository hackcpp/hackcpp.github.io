---
title: 正则表达式的基本使用
order: 2
category:
  - 其他
tag:
  - 正则表达式
editLink: false
---

正则表达式（Regular Expression，简称正则或 RegEx）是一种用来匹配字符串的模式描述语言。它在字符串搜索、替换等文本处理操作中具有强大的功能。正则表达式广泛应用于文本解析、数据验证、模式匹配等场景。

在一个正则表达式中，主要由**元字符（Metacharacters）** 和 **量词（Quantifiers）** 2部分组成。以下是对它们的详细介绍:

---

##  **元字符 (Metacharacters)**

元字符是正则表达式中的特殊字符，用于构建匹配模式。这些字符具有特定的功能，而非代表实际的字符。

### **基本元字符**

- **`.` (点号)**：匹配任意单个字符，除了换行符。
  - 示例：`a.b` 可以匹配 `a+b`、`a3b` 等。
  
- **`^` (插入符号)**：匹配字符串的开始位置。
  - 示例：`^abc` 只能匹配以 `abc` 开头的字符串。

- **`$` (美元符号)**：匹配字符串的结束位置。
  - 示例：`xyz$` 只能匹配以 `xyz` 结尾的字符串。

- **`[]` (字符集)**：匹配方括号内的任意一个字符。
  - 示例：`[aeiou]` 可以匹配任意元音字母。
  
- **`|` (管道符号)**：表示逻辑 "或" 操作，匹配左边或右边的表达式。
  - 示例：`abc|xyz` 可以匹配 `abc` 或 `xyz`。

- **`()` (小括号)**：用于分组，捕获匹配的内容，或者将表达式的多个部分视为一个整体。
  - 示例：`(abc)+` 表示 `abc` 可以重复一次或多次。

- **`\` (反斜杠)**：转义字符，用来取消元字符的特殊含义，或者引入特殊的元字符。
  - 示例：`\.` 可以匹配字符 `.`，而不是匹配任意字符。

###  **特殊字符类**

- **`\d`**：匹配任意一个数字字符，相当于 `[0-9]`。
  - 示例：`\d{3}` 可以匹配任意三位数字。

- **`\D`**：匹配任意一个非数字字符，相当于 `[^0-9]`。
  - 示例：`\D` 可以匹配任何非数字字符。

- **`\w`**：匹配任意一个字母、数字或下划线字符，相当于 `[a-zA-Z0-9_]`。
  - 示例：`\w+` 可以匹配一个或多个字母、数字或下划线。

- **`\W`**：匹配任意一个非字母、数字或下划线字符，相当于 `[^a-zA-Z0-9_]`。
  - 示例：`\W` 可以匹配任何非字母或非数字字符。

- **`\s`**：匹配任意一个空白字符（空格、制表符、换行符等）。
  - 示例：`\s` 可以匹配空格或换行符。

- **`\S`**：匹配任意一个非空白字符。
  - 示例：`\S` 可以匹配任何非空白字符。

### **字符集与范围**

- **`[abc]`**：匹配字符 `a`、`b` 或 `c` 中的任意一个。
  - 示例：`[aeiou]` 匹配任意元音字母。

- **`[a-z]`**：匹配从 `a` 到 `z` 范围内的任意一个字符。
  - 示例：`[0-9]` 匹配任意一个数字字符。

- **`[^abc]`**：匹配除了 `a`、`b`、`c` 以外的任意一个字符。
  - 示例：`[^0-9]` 匹配任意一个非数字字符。

- **`[a-zA-Z]`**：匹配任意大小写字母。

### **边界匹配**

- **`\b`**：匹配一个单词的边界，通常用于匹配完整的单词。
  - 示例：`\bword\b` 匹配 `word`，但不匹配 `words` 或 `sword`。

- **`\B`**：匹配非单词边界。
  - 示例：`\Bword\B` 不会匹配 `word`，但会匹配像 `swordsmanship` 这样单词中间的部分。

---

## **量词 (Quantifiers)**

量词用于控制前一个字符或子表达式出现的次数。量词允许你指定匹配的数量范围。

###  **常用量词**

- **`*` (星号)**：匹配前面的字符 **0 次或多次**。
  - 示例：`a*` 可以匹配空字符串、`a`、`aa`、`aaa` 等。

- **`+` (加号)**：匹配前面的字符 **1 次或多次**。
  - 示例：`a+` 可以匹配 `a`、`aa`、`aaa` 等，但不匹配空字符串。

- **`?` (问号)**：匹配前面的字符 **0 次或 1 次**，即表示这个字符是可选的。
  - 示例：`colou?r` 可以匹配 `color` 和 `colour`。

###  **数量范围的量词**

- **`{n}`**：匹配前面的字符 **恰好 n 次**。
  - 示例：`\d{4}` 可以匹配四位数字，如 `2023`。

- **`{n,}`**：匹配前面的字符 **至少 n 次**。
  - 示例：`\d{2,}` 匹配至少两位数字，如 `12`、`123` 等。

- **`{n,m}`**：匹配前面的字符 **至少 n 次，至多 m 次**。
  - 示例：`\d{2,4}` 可以匹配两位、三位或四位数字，如 `12`、`123`、`1234`。

### **懒惰量词**

默认情况下，量词是“贪婪”的，这意味着它们会匹配尽可能多的字符。你可以通过在量词后添加 `?` 将其转换为“懒惰”模式，匹配尽可能少的字符。

- **`*?`**：匹配 0 次或更多，但尽量少匹配。
- **`+?`**：匹配 1 次或更多，但尽量少匹配。
- **`??`**：匹配 0 次或 1 次，但尽量少匹配。
- **`{n,m}?`**：匹配 n 到 m 次，但尽量少匹配。

::: tip 示例：
```sql
<a href="http://example.com">Example</a>
```
贪婪匹配 `"<.*>"` 会匹配整个字符串，而懒惰匹配 `"<.*?>"` 只匹配第一个标签。
:::


### **正则表达式的常见应用场景**

- **字符串搜索**：
   - 搜索符合某个模式的字符串，如电话号码或电子邮件地址。
   ```regex
   \b\d{3}-\d{3}-\d{4}\b  # 匹配美国电话号码格式
   ```

- **数据验证**：
   - 验证输入是否符合特定格式，如密码复杂度、日期格式等。
   ```regex
   ^[a-zA-Z0-9]{8,}$  # 验证至少包含 8 个字母或数字的密码
   ```

- **替换操作**：
   - 查找并替换字符串中符合特定模式的部分，如将 HTML 标签移除。
   ```regex
   <[^>]+>  # 匹配 HTML 标签
   ```

- **提取数据**：
   - 从文本中提取特定格式的数据，如提取电子邮件地址。
   ```regex
   \b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b  # 匹配电子邮件地址
   ```
---

::: tip 总结

- **元字符 (Metacharacters)** 是正则表达式中的基础元素，用于构建匹配模式。包括特殊字符、字符集、范围、边界匹配等。
- **量词 (Quantifiers)** 用于指定字符或表达式出现的次数，控制匹配的数量。
:::

正则表达式的强大在于其灵活性，可以根据实际需求设计复杂的匹配规则。掌握正则表达式的语法和使用场景，有助于处理文本、数据验证和复杂的字符串操作。

## 参考
[可视化工具](https://jex.im/regulex/#!flags=&re=%5E%5Cd*%3F%24)